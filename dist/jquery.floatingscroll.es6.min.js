/*!
floating-scroll v3.0.2
https://amphiluke.github.io/floating-scroll/
(c) 2018 Amphiluke
*/
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(require("jquery")):"function"==typeof define&&define.amd?define(["jquery"],e):e(t.jQuery)}(this,function(t){"use strict";class e{constructor(t,e){let s=this;s.cont=t[0];let l=t.closest(".fl-scrolls-body");l.length&&(s.scrollBody=l),s.options=Object.assign({zIndex:10,bottom:0},e),s.sbar=s.initScroll(),s.visible=!0,s.updateAPI(),s.syncSbar(s.cont),s.addEventHandlers()}initScroll(){let e=t("<div class='fl-scrolls'></div>"),{cont:s}=this;return e.css({"z-index":this.options.zIndex,bottom:`${this.options.bottom}px`}),t("<div></div>").appendTo(e).css({width:`${s.scrollWidth}px`}),e.appendTo(s)}addEventHandlers(){let e=this;(e.eventHandlers=[{$el:e.scrollBody||t(window),handlers:{scroll(){e.checkVisibility()},resize(){e.updateAPI()}}},{$el:e.sbar,handlers:{scroll({target:t}){e.visible&&e.syncCont(t,!0)}}},{$el:t(e.cont),handlers:{scroll({target:t}){e.syncSbar(t,!0)},focusin(){setTimeout(e.syncSbar.bind(e,e.cont),0)},"update.fscroll"({namespace:t}){"fscroll"===t&&e.updateAPI()},"destroy.fscroll"({namespace:t}){"fscroll"===t&&e.destroyAPI()}}}]).forEach(({$el:t,handlers:e})=>t.bind(e))}checkVisibility(){let t=this;if(t.options.keep)return;let e=t.sbar[0].scrollWidth<=t.sbar[0].offsetWidth;if(!e){let s=t.cont.getBoundingClientRect(),l=t.scrollBody?t.scrollBody[0].getBoundingClientRect().bottom:window.innerHeight||document.documentElement.clientHeight;e=s.bottom<=l||s.top>l}t.visible===e&&(t.visible=!e,t.sbar.toggleClass("fl-scrolls-hidden"))}syncCont(t,e){let s=this;!0!==s.preventSyncCont?(s.preventSyncSbar=!!e,s.cont.scrollLeft=t.scrollLeft):s.preventSyncCont=!1}syncSbar(t,e){let s=this;!0!==s.preventSyncSbar?(s.preventSyncCont=!!e,s.sbar[0].scrollLeft=t.scrollLeft):s.preventSyncSbar=!1}updateAPI(){let e=this,{cont:s}=e;e.sbar.width(t(s).outerWidth()),e.scrollBody||e.sbar.css("left",`${s.getBoundingClientRect().left}px`),t("div",e.sbar).width(s.scrollWidth),e.checkVisibility()}destroyAPI(){this.eventHandlers.forEach(({$el:t,handlers:e})=>t.unbind(e)),this.eventHandlers=null,this.sbar.remove()}}t.fn.floatingScroll=function(s="init",l={}){return"init"===s?this.each((s,n)=>new e(t(n),l)):e.prototype.hasOwnProperty(`${s}API`)&&this.trigger(`${s}.fscroll`),this},t(document).ready(()=>{t("body [data-fl-scrolls]").floatingScroll()})});
